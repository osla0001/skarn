{% schema %}
{
  "name": "Split Grid",
  "settings": [
    {
      "type": "select",
      "id": "padding_top",
      "label": "Mellemrum over (top padding)",
      "options": [
        { "value": "none", "label": "Ingen" },
        { "value": "small", "label": "Lille" },
        { "value": "medium", "label": "Mellem" },
        { "value": "large", "label": "Stor" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "padding_bottom",
      "label": "Mellemrum under (bund padding)",
      "options": [
        { "value": "none", "label": "Ingen" },
        { "value": "small", "label": "Lille" },
        { "value": "medium", "label": "Mellem" },
        { "value": "large", "label": "Stor" }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "grid_type",
      "label": "Grid layout",
      "options": [
        { "value": "1-1", "label": "1fr / 1fr (halv-halv)" },
        { "value": "2-1", "label": "2fr / 1fr (venstre bred)" },
        { "value": "1-2", "label": "1fr / 2fr (højre bred)" }
      ],
      "default": "1-1"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Mellemrum mellem kolonner (px)",
      "min": 0,
      "max": 64,
      "step": 1,
      "default": 24
    }
  ],
  "blocks": [
    {
      "type": "left",
      "name": "Venstre kolonne",
      "settings": [
        {
          "type": "select",
          "id": "content_alignment",
          "label": "Indhold justering",
          "options": [
            { "value": "left", "label": "Venstre" },
            { "value": "center", "label": "Centreret" },
            { "value": "right", "label": "Højre" }
          ],
          "default": "left"
        },
        { "type": "image_picker", "id": "image_1", "label": "Billede" },
        { "type": "range", "id": "image_1_width", "label": "Billede bredde (%)", "min": 10, "max": 100, "step": 1, "default": 100 },
        { "type": "text", "id": "heading_1", "label": "Overskrift" },
        { "type": "richtext", "id": "text_1", "label": "Beskrivende tekst" },
        { "type": "text", "id": "button_label", "label": "Knap tekst" },
        { "type": "url", "id": "button_link", "label": "Knap link" }
      ]
    },
    {
      "type": "right",
      "name": "Højre kolonne",
      "settings": [
        {
          "type": "select",
          "id": "content_alignment",
          "label": "Indhold justering",
          "options": [
            { "value": "left", "label": "Venstre" },
            { "value": "center", "label": "Centreret" },
            { "value": "right", "label": "Højre" }
          ],
          "default": "left"
        },
        { "type": "image_picker", "id": "image_1", "label": "Billede" },
        { "type": "range", "id": "image_1_width", "label": "Billede bredde (%)", "min": 10, "max": 100, "step": 1, "default": 100 },
        { "type": "text", "id": "heading_1", "label": "Overskrift" },
        { "type": "richtext", "id": "text_1", "label": "Beskrivende tekst" },
        { "type": "text", "id": "button_label", "label": "Knap tekst" },
        { "type": "url", "id": "button_link", "label": "Knap link" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Split Grid"
    }
  ]
}
{% endschema %}

<div class="split-grid-section split-grid-{{ section.settings.grid_type }} section-padding-top--{{ section.settings.padding_top }} section-padding-bottom--{{ section.settings.padding_bottom }}" style="display: grid; grid-template-columns: {% if section.settings.grid_type == '2-1' %}2fr 1fr{% elsif section.settings.grid_type == '1-2' %}1fr 2fr{% else %}1fr 1fr{% endif %}; gap: {{ section.settings.gap | default: 24 }}px;">
  <div class="split-grid__col split-grid__col--left" id="split_left">
    {% for block in section.blocks %}
      {% if block.type == 'left' %}
        <div class="split-grid__images{% if block.settings.image_1 != blank %} has-images{% endif %}">
          {% if block.settings.image_1 != blank %}
            <img src="{{ block.settings.image_1 | image_url }}" alt="" style="width:{{ block.settings.image_1_width | default: 100 }}%; height:auto;" />
          {% endif %}
        </div>
        {% if block.settings.heading_1 != blank %}
          <h4 style="text-align:right;">{{ block.settings.heading_1 }}</h4>
        {% endif %}
        {% if block.settings.text_1 != blank %}
          {{ block.settings.text_1 }}
        {% endif %}
        {% if block.settings.button_label != blank and block.settings.button_link != blank %}
          <a href="{{ block.settings.button_link }}" class="split-grid__button">{{ block.settings.button_label }}</a>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>

  <div class="split-grid__col split-grid__col--right" id="split_right">
    {% for block in section.blocks %}
      {% if block.type == 'right' %}
        <div class="split-grid__images{% if block.settings.image_1 != blank %} has-images{% endif %}">
          {% if block.settings.image_1 != blank %}
            <img src="{{ block.settings.image_1 | image_url }}" alt="" style="width:{{ block.settings.image_1_width | default: 100 }}%; height:auto;" />
          {% endif %}
        </div>
        {% if block.settings.heading_1 != blank %}
          <h4 style="text-align:left;">{{ block.settings.heading_1 }}</h4>
        {% endif %}
        {% if block.settings.text_1 != blank %}
          {{ block.settings.text_1 }}
        {% endif %}
        {% if block.settings.button_label != blank and block.settings.button_link != blank %}
          <a href="{{ block.settings.button_link }}" class="split-grid__button">{{ block.settings.button_label }}</a>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
</div>

{% stylesheet %}
/* Shopify standard padding utility classes */
.section-padding-top--none { padding-top: 0 !important; }
.section-padding-top--small { padding-top: 2rem !important; }
.section-padding-top--medium { padding-top: 4rem !important; }
.section-padding-top--large { padding-top: 8rem !important; }
.section-padding-bottom--none { padding-bottom: 0 !important; }
.section-padding-bottom--small { padding-bottom: 2rem !important; }
.section-padding-bottom--medium { padding-bottom: 4rem !important; }
.section-padding-bottom--large { padding-bottom: 8rem !important; }
 .split-grid-section {
   width: 100%;
 }
 .split-grid__col {
   min-height: 100px;
 }

  h4{
    font-size: 32px;
    margin-bottom: 1rem;
    max-width: 22ch;
  }

  p{
    max-width: 45ch;
  }

  .skarn_section p{
    max-width: none;
  }

  #split_left p,   #split_left h4{
    text-align: right;
    place-self: end;
  }
.split-grid__images{
    display: flex;
justify-content: center;
align-items: center;
  }

  .split-grid__images img{
    align-self: center;
  }

  .split-grid__images.has-images{
height: 100%;
  }

  .split-grid_text{
    width: 100%;
  }

{% endstylesheet %}
