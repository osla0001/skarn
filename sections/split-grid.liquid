{% schema %}
{
  "name": "Split Grid",
  "settings": [
    {
      "type": "select",
      "id": "grid_type",
      "label": "Grid layout",
      "options": [
        { "value": "1-1", "label": "1fr / 1fr (halv-halv)" },
        { "value": "2-1", "label": "2fr / 1fr (venstre bred)" },
        { "value": "1-2", "label": "1fr / 2fr (højre bred)" }
      ],
      "default": "1-1"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Mellemrum mellem kolonner (px)",
      "min": 0,
      "max": 64,
      "step": 1,
      "default": 24
    }
  ],
  "blocks": [
    {
      "type": "left",
      "name": "Venstre kolonne",
      "settings": [
        { "type": "image_picker", "id": "image_1", "label": "Billede 1" },
        { "type": "image_picker", "id": "image_2", "label": "Billede 2" },
        { "type": "image_picker", "id": "image_3", "label": "Billede 3" },
        { "type": "text", "id": "heading_1", "label": "Overskrift 1" },
        { "type": "richtext", "id": "text_1", "label": "Tekst 1" },
        { "type": "text", "id": "heading_2", "label": "Overskrift 2" },
        { "type": "richtext", "id": "text_2", "label": "Tekst 2" },
        { "type": "text", "id": "button_label", "label": "Knap tekst" },
        { "type": "url", "id": "button_link", "label": "Knap link" }
      ]
    },
    {
      "type": "right",
      "name": "Højre kolonne",
      "settings": [
        { "type": "image_picker", "id": "image_1", "label": "Billede 1" },
        { "type": "image_picker", "id": "image_2", "label": "Billede 2" },
        { "type": "image_picker", "id": "image_3", "label": "Billede 3" },
        { "type": "text", "id": "heading_1", "label": "Overskrift 1" },
        { "type": "richtext", "id": "text_1", "label": "Tekst 1" },
        { "type": "text", "id": "heading_2", "label": "Overskrift 2" },
        { "type": "richtext", "id": "text_2", "label": "Tekst 2" },
        { "type": "text", "id": "button_label", "label": "Knap tekst" },
        { "type": "url", "id": "button_link", "label": "Knap link" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Split Grid"
    }
  ]
}
{% endschema %}

<div class="split-grid-section split-grid-{{ section.settings.grid_type }}" style="display: grid; grid-template-columns: {% if section.settings.grid_type == '2-1' %}2fr 1fr{% elsif section.settings.grid_type == '1-2' %}1fr 2fr{% else %}1fr 1fr{% endif %}; gap: {{ section.settings.gap | default: 24 }}px;">
  <div class="split-grid__col split-grid__col--left">
    {% for block in section.blocks %}
      {% if block.type == 'left' %}
        <div class="split-grid__images">
          {% if block.settings.image_1 != blank %}
            <img src="{{ block.settings.image_1 | image_url }}" alt="" />
          {% endif %}
          {% if block.settings.image_2 != blank %}
            <img src="{{ block.settings.image_2 | image_url }}" alt="" />
          {% endif %}
        {% if block.settings.image_1_width != blank %}
          <img src="{{ block.settings.image_1 | image_url }}" alt="" style="width:{{ block.settings.image_1_width }}%; height:auto;" />
        {% endif %}
        {% if block.settings.image_2_width != blank %}
          <img src="{{ block.settings.image_2 | image_url }}" alt="" style="width:{{ block.settings.image_2_width }}%; height:auto;" />
        {% endif %}
        {% if block.settings.image_3_width != blank %}
          <img src="{{ block.settings.image_3 | image_url }}" alt="" style="width:{{ block.settings.image_3_width }}%; height:auto;" />
        {% endif %}
          {% if block.settings.image_3 != blank %}
            <img src="{{ block.settings.image_3 | image_url }}" alt="" />
          {% endif %}
        </div>
        {% if block.settings.heading_1 != blank %}
          <h4>{{ block.settings.heading_1 }}</h4>
        {% endif %}
        {% if block.settings.text_1 != blank %}
          <div class="split-grid__text">{{ block.settings.text_1 }}</div>
        {% endif %}
        {% if block.settings.heading_2 != blank %}
          <h4>{{ block.settings.heading_2 }}</h4>
        {% endif %}
        {% if block.settings.text_2 != blank %}
          <div class="split-grid__text">{{ block.settings.text_2 }}</div>
        {% endif %}
        {% if block.settings.button_label != blank and block.settings.button_link != blank %}
          <a href="{{ block.settings.button_link }}" class="split-grid__button">{{ block.settings.button_label }}</a>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
  <div class="split-grid__col split-grid__col--right">
    {% for block in section.blocks %}
      {% if block.type == 'right' %}
        <div class="split-grid__images">
          {% if block.settings.image_1 != blank %}
            <img src="{{ block.settings.image_1 | image_url }}" alt="" />
          {% endif %}
          {% if block.settings.image_2 != blank %}
            <img src="{{ block.settings.image_2 | image_url }}" alt="" />
          {% if block.settings.image_1_width != blank %}
            <img src="{{ block.settings.image_1 | image_url }}" alt="" style="width:{{ block.settings.image_1_width }}%; height:auto;" />
          {% endif %}
          {% if block.settings.image_2_width != blank %}
            <img src="{{ block.settings.image_2 | image_url }}" alt="" style="width:{{ block.settings.image_2_width }}%; height:auto;" />
          {% endif %}
          {% if block.settings.image_3_width != blank %}
            <img src="{{ block.settings.image_3 | image_url }}" alt="" style="width:{{ block.settings.image_3_width }}%; height:auto;" />
          {% endif %}
          {% endif %}
          {% if block.settings.image_3 != blank %}
            <img src="{{ block.settings.image_3 | image_url }}" alt="" />
          {% endif %}
        </div>
        {% if block.settings.heading_1 != blank %}
          <h4>{{ block.settings.heading_1 }}</h4>
        {% endif %}
        {% if block.settings.text_1 != blank %}
          <div class="split-grid__text">{{ block.settings.text_1 }}</div>
        {% endif %}
        {% if block.settings.heading_2 != blank %}
          <h4>{{ block.settings.heading_2 }}</h4>
        {% endif %}
        {% if block.settings.text_2 != blank %}
          <div class="split-grid__text">{{ block.settings.text_2 }}</div>
        {% endif %}
        {% if block.settings.button_label != blank and block.settings.button_link != blank %}
          <a href="{{ block.settings.button_link }}" class="split-grid__button">{{ block.settings.button_label }}</a>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
</div>

{% stylesheet %}
.split-grid-section {
  width: 100%;
@media (max-width: 768px) {
  .split-grid-section {
    display: block !important;
  }
}
}
.split-grid__col {
  min-height: 100px;
}
{% endstylesheet %}
