{% comment %}
  Section: Introduktion (section_TidpBp)
  Denne fil er forbundet til section_TidpBp på forsiden.
{% endcomment %}

<section class="section-introduktion">
<div class="intro_1">
  <h1>{{ section.settings.intro_heading }}</h1>
  <p class="tekst">{{ section.settings.intro_text }}</p>
    <div class="button-container">
        <button class="button-secondary">
      <a href="{{ section.settings.secondary_button_link }}">
        {{ section.settings.secondary_button_label }}
      </a>
    </button>
    </div>
  </div>
{% assign intro_collection = collections[section.settings.collection] %}
{% if intro_collection and intro_collection.products_count > 0 %}
  <div class="intro-grid">
    {% for product in intro_collection.products limit: 9 %}
      <div class="grid_card{% if forloop.index > 6 %} grid_card--hide-tablet{% endif %}">
        <a href="{{ product.url }}" class="card-gallery__hover-fade-wrapper" style="display:block; width:100%; height:100%; position:relative;">
          <img class="grid_card__image grid_card__image--main" src="{{ product.featured_image | img_url: '600x' }}" alt="{{ product.title }}">
          {% if product.images.size > 1 %}
            <img class="grid_card__image grid_card__image--hover" src="{{ product.images[1] | img_url: '600x' }}" alt="{{ product.title }}" loading="lazy">
          {% endif %}
          <div class="card-gallery__indicators">
            <span class="card-gallery__indicator card-gallery__indicator--first"></span>
            {% if product.images.size > 1 %}
              <span class="card-gallery__indicator card-gallery__indicator--second"></span>
            {% endif %}
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>Ingen produkter fundet.</p>
{% endif %}

{% schema %}
{
  "name": "Introduktion",
  "settings": [
        {
          "type": "text",
          "id": "intro_heading",
          "label": "Overskrift (h1)",
          "default": "Velkommen til dit digitale klædeskab"
        },
        {
          "type": "textarea",
          "id": "intro_text",
          "label": "Intro tekst (p)",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur tincidunt libero magna, ut consectetur magna condimentum vitae. Integer blandit maximus condimentum. Vestibulum quis blandit nibh. Morbi ut nisi et turpis tristique ultricies facilisis et est.\n\nIn convallis nulla at semper posuere. Phasellus hendrerit tortor vel velit elementum sodales. Nulla sit amet bibendum odio. Vestibulum feugiat ac metus id porttitor. Donec blandit lectus eget sem facilisis cursus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur tincidunt libero magna, ut consectetur magna condimentum vitae.\n\nCurabitur tincidunt libero magna, ut consectetur magna condimentum vitae. Nulla sit amet bibendum odio. Vestibulum feugiat ac metus id porttitor.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur tincidunt libero magna, ut consectetur magna condimentum vitae. Integer blandit maximus condimentum. Donec blandit lectus eget sem facilisis cursus.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum feugiat ac metus id porttitor. Curabitur tincidunt libero magna, ut consectetur magna condimentum vitae. Donec blandit lectus eget sem facilisis cursus. Lorem ipsum dolor sit amet, consectetur adipiscing elit."
        },
    {
      "type": "text",
      "id": "secondary_button_label",
      "label": "Sekundær knap tekst",
      "default": "Besøg butik →"
    },
    {
      "type": "url",
      "id": "secondary_button_link",
      "label": "Sekundær knap link",
      "default": "/collections/all"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Kollektion (fx Selektion)"
    }
  ]
}
{% endschema %}
</section>

<style>
.section-introduktion {
  display: grid;
  grid-template-columns: 1fr 1fr;
}

p {
  color: var(--paragraph-text-color);
}


.button-container{
width: 100%;
display: flex;
justify-content: end;
}

.intro_1{
 max-width: 550px;
 margin: 0 auto;
    padding: 2rem 1rem;
}

.tekst{
margin-bottom: 2rem;}

@media screen and (max-width: 749px) {
  .section-introduktion {
    grid-template-columns: 1fr;
    gap: 1.5rem;
    padding: 0 2rem;
    max-width: 100%;
  }
  .section-introduktion .black {
    display: none;
  }
}

.intro-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  justify-items: stretch;
  align-items: stretch;
  width: 100%;
  margin: 0 auto;
}
@media screen and (max-width: 1200px) {
  .intro-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media screen and (max-width: 749px) {
  .intro-grid {
    grid-template-columns: 1fr;
  }
}

@media screen and (max-width: 900px) {
  .intro-grid {
   display: none;
  }

    .section-introduktion {
    display: block;}
}

/* --- Nyeste selektion grid card style --- */
.grid_card {
  background: #000;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-end;
  overflow: hidden;
  position: relative;
  transition: box-shadow 0.2s;
  min-width: 0;
  width: 100%;
}


.grid_card__image-wrapper {
  position: relative;
  width: 100%;
  min-height: 0;
  padding: 0;
  overflow: hidden;
  
}
.grid_card__image {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: opacity 0.3s;
border: 1px solid black;
}

.grid_card a {
  width: 100%;

}
.grid_card__image--hover {
  opacity: 0;
  z-index: 2;
}
.grid_card:hover .grid_card__image--hover {
  opacity: 1;
}
.grid_card__info {
  padding: 1rem 0.5rem 0.5rem 0.5rem;
  text-align: center;
}
.grid_card__title {
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 0.25rem;
  color: #222;
}
.grid_card__price {
  font-size: 0.95rem;
}

.card-gallery__indicators {
  position: absolute;
  left: 50%;
  bottom: 12px;
  display: flex;
  gap: 8px;
  transform: translateX(-50%);
  z-index: 10;
}
.card-gallery__indicator {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: white;
  display: block;
  transition: opacity 0.3s;
}
.card-gallery__indicator--first {
  opacity: 1;
}
.card-gallery__indicator--second {
  opacity: 0.75;
}
.card-gallery__hover-fade-wrapper:hover .card-gallery__indicator--first {
  opacity: 0.75;
}
.card-gallery__hover-fade-wrapper:hover .card-gallery__indicator--second {
  opacity: 1;
}
@media screen and (max-width: 1200px) {
  .intro-grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(3, 1fr);
  }
}
@media screen and (max-width: 749px) {
  .intro-grid {
    grid-template-columns: 1fr;
    grid-template-rows: repeat(9, 1fr);
  }
}

@media screen and (max-width: 1200px) and (min-width: 750px) {
  .grid_card--hide-tablet {
    display: none !important;
  }
}
</style>