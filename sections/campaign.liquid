<section class="campaign-section" style="
  {% if section.settings.background_image != blank %}background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}'); background-size: cover; background-position: center;{% endif %}
  {% if section.settings.section_height != blank %}height: {{ section.settings.section_height }};{% endif %}">
  <div class="campaign-grid">
    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'left' %}
          <div class="campaign-left">
            {{ block.settings.content }}
          </div>
        {% when 'right' %}
          <div class="campaign-right" style="gap: {{ block.settings.gap | default: 16 }}px;">
            {% if block.settings.show_heading and block.settings.heading_text != blank %}
              <h4 class="campaign-right-heading">{{ block.settings.heading_text }}</h4>
            {% endif %}
            {% if block.settings.image != blank %}
              <img src="{{ block.settings.image | image_url: width: 800 }}" alt="" class="campaign-right-image" style="width: {{ block.settings.image_width | default: '100' }}%; max-width: 100%; margin-bottom: {{ block.settings.image_margin_bottom | default: 0 }}px;" />
            {% endif %}
             {% if block.settings.show_button %}
                <button class="button-secondary">
                  <a href="{{ block.settings.button_link }}">{{ block.settings.button_label }}</a>
                </button>
              {% endif %}
          </div>
      {% endcase %}
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Kampagne billede",
  "settings": [
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Baggrundsbillede"
    },
    {
      "type": "text",
      "id": "section_height",
      "label": "Sektionens højde (fx 500px, 60vh, auto)",
      "default": "auto"
    }
  ],
  "blocks": [
    {
      "type": "left",
      "name": "Blank",
      "settings": [
        {
          "type": "range",
          "id": "gap",
          "label": "Afstand mellem elementer (px)",
          "min": 0,
          "max": 64,
          "step": 1,
          "default": 16
        },
        {
          "type": "range",
          "id": "image_margin_bottom",
          "label": "Afstand under billede (px)",
          "min": 0,
          "max": 100,
          "step": 1,
          "default": 0
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Indhold"
        }
      ]
    },
      {
        "type": "right",
        "name": "Højre billede og knap",
        "settings": [
          {
            "type": "checkbox",
            "id": "show_heading",
            "label": "Vis overskrift",
            "default": false
          },
          {
            "type": "text",
            "id": "heading_text",
            "label": "Overskrift tekst",
            "default": "Overskrift"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Billede"
          },
          {
            "type": "range",
            "id": "image_width",
            "label": "Billedets bredde (%)",
            "min": 10,
            "max": 100,
            "step": 1,
            "default": 100
          },
          {
            "type": "checkbox",
            "id": "show_button",
            "label": "Vis sekundær knap",
            "default": true
          },
          {
            "type": "text",
            "id": "button_label",
            "label": "Knap tekst",
            "default": "Læs mere"
          },
          {
            "type": "url",
            "id": "button_link",
            "label": "Knap link"
          }
        ]
      }
  ],
  "max_blocks": 2
}
{% endschema %}

{% stylesheet %}
.campaign-section {
  width: 100%;
  height: auto;
  padding: 2rem 0;
}
.campaign-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  align-items: center;
}
.campaign-left {
    height: 100%;
    width: 100%;
}
.campaign-right {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 1rem;
}
.campaign-right {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  height: 100%;
  text-align: center;
}
.campaign-right-heading {
  margin-bottom: 0.5em;
}
.campaign-right-image {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
}

.secondary-button:hover a, .secondary-button:focus a {
  color: #fff;
}

{% endstylesheet %}